<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ü—Ä–µ–ª–æ–∞–¥–µ—Ä: –ü–∞–∑–ª‚Äë—Å–µ—Ä–¥—Ü–µ (GSAP)</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" integrity="sha512-dcE9F3G4k9wQXJwj0zDbcxh8QYxmKXt+0z8Y1w7m1Q2Hk4iVAn7I9W7Czq2G0f7q5i7H2yJmN2qHkK6z2xYQmQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/twemoji.min.js" integrity="sha512-xZQF3u0OeULmM8F2QzPq6k8p0K3+2YgqPqgY9yN0N0mNshd3m5wD4dD3M1Yy7YH0kWc8x9z2oNw2VgqfBz8tVw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <style>
  /* Overlay */
  #preloader-invitation {
    position: fixed;
    inset: 0;
    z-index: 999999999;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 100vw;
    height: 100vh;
    height: 100dvh;
    background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
    overflow: hidden;
    cursor: wait;
  }

  .heart-container {
    position: relative;
    width: 120px;
    height: 108px;
    margin-bottom: 36px;
    filter: drop-shadow(0 6px 12px rgba(0,0,0,0.18));
  }

  .heart-svg { display: block; width: 100%; height: auto; }

  /* –ü–∞–∑–ª‚Äë—á–∞—Å—Ç–∏ —Å—Ç–∞—Ä—Ç—É—é—Ç –≤ —Ä–∞–∑–±—Ä–æ—Å ‚Äî –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–¥–∞—é—Ç—Å—è GSAP */
  .heart-piece { opacity: 0; }

  .loading-text { text-align: center; color: #fff; font-family: 'Montserrat', Arial, sans-serif; }
  .main-text { font-size: 24px; font-weight: 600; letter-spacing: .4px; text-shadow: 0 2px 4px rgba(0,0,0,.25); }
  .emoji svg, .emoji img { width: 1.1em; height: 1.1em; vertical-align: -0.15em; }

  .dots { display: flex; justify-content: center; gap: 8px; margin-top: 12px; }
  .dot { width: 8px; height: 8px; background: #fff; border-radius: 50%; box-shadow: 0 2px 4px rgba(0,0,0,.2); }

  @media (max-width: 480px) {
    .heart-container { transform: scale(.9); }
    .main-text { font-size: 20px; }
  }

  @media (prefers-reduced-motion: reduce) {
    * { animation: none !important; transition: none !important; }
  }
  </style>
</head>
<body>
  <div id="preloader-invitation" aria-live="polite" aria-busy="true">
    <div class="heart-container">
      <!-- SVG –ø–∞–∑–ª: 6 –∫–ª–∏–ø‚Äë—á–∞—Å—Ç–µ–π –ø–æ–≤–µ—Ä—Ö –æ–±—â–µ–≥–æ –∫–æ–Ω—Ç—É—Ä–∞ —Å–µ—Ä–¥—Ü–∞ -->
      <svg class="heart-svg" viewBox="0 0 100 90" role="img" aria-label="–°–æ–±–∏—Ä–∞—é—â–µ–µ—Å—è —Å–µ—Ä–¥—Ü–µ">
        <defs>
          <clipPath id="piece1"><path d="M20,30 C20,20 30,15 40,25 C50,15 60,20 60,30 L50,45 Z"/></clipPath>
          <clipPath id="piece2"><path d="M40,25 C50,15 60,20 60,30 C60,20 70,15 80,25 L70,45 Z"/></clipPath>
          <clipPath id="piece3"><path d="M30,45 L50,45 L50,65 L40,75 Z"/></clipPath>
          <clipPath id="piece4"><path d="M50,45 L70,45 L60,75 L50,65 Z"/></clipPath>
          <clipPath id="piece5"><path d="M40,75 L50,65 L50,85 Z"/></clipPath>
          <clipPath id="piece6"><path d="M50,65 L60,75 L50,85 Z"/></clipPath>
        </defs>

        <!-- –°–ª–∞–±—ã–π —Ñ–æ–Ω —Å–µ—Ä–¥—Ü–∞ –¥–ª—è –æ—Ä–∏–µ–Ω—Ç–∏—Ä–∞ -->
        <path d="M50,85 C50,85 20,65 20,30 C20,20 30,15 40,25 C50,15 60,20 60,30 C60,20 70,15 80,25 C90,15 100,20 100,30 C100,65 70,85 50,85 Z" fill="#ff4757" opacity="0.08"/>

        <g class="heart-piece piece-1" clip-path="url(#piece1)">
          <path d="M50,85 C50,85 20,65 20,30 C20,20 30,15 40,25 C50,15 60,20 60,30 C60,20 70,15 80,25 C90,15 100,20 100,30 C100,65 70,85 50,85 Z" fill="#ff4757"/>
        </g>
        <g class="heart-piece piece-2" clip-path="url(#piece2)">
          <path d="M50,85 C50,85 20,65 20,30 C20,20 30,15 40,25 C50,15 60,20 60,30 C60,20 70,15 80,25 C90,15 100,20 100,30 C100,65 70,85 50,85 Z" fill="#ff4757"/>
        </g>
        <g class="heart-piece piece-3" clip-path="url(#piece3)">
          <path d="M50,85 C50,85 20,65 20,30 C20,20 30,15 40,25 C50,15 60,20 60,30 C60,20 70,15 80,25 C90,15 100,20 100,30 C100,65 70,85 50,85 Z" fill="#ff4757"/>
        </g>
        <g class="heart-piece piece-4" clip-path="url(#piece4)">
          <path d="M50,85 C50,85 20,65 20,30 C20,20 30,15 40,25 C50,15 60,20 60,30 C60,20 70,15 80,25 C90,15 100,20 100,30 C100,65 70,85 50,85 Z" fill="#ff4757"/>
        </g>
        <g class="heart-piece piece-5" clip-path="url(#piece5)">
          <path d="M50,85 C50,85 20,65 20,30 C20,20 30,15 40,25 C50,15 60,20 60,30 C60,20 70,15 80,25 C90,15 100,20 100,30 C100,65 70,85 50,85 Z" fill="#ff4757"/>
        </g>
        <g class="heart-piece piece-6" clip-path="url(#piece6)">
          <path d="M50,85 C50,85 20,65 20,30 C20,20 30,15 40,25 C50,15 60,20 60,30 C60,20 70,15 80,25 C90,15 100,20 100,30 C100,65 70,85 50,85 Z" fill="#ff4757"/>
        </g>
      </svg>
    </div>

    <div class="loading-text">
      <div class="main-text">–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è <span class="emoji">üíå</span></div>
      <div class="dots"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>
    </div>
  </div>

  <script>
  (function() {
    document.body.style.overflow = 'hidden';

    // –†–µ–Ω–¥–µ—Ä–∏–º emoji —á–µ—Ä–µ–∑ Twemoji, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ "????"
    try { if (window.twemoji) { twemoji.parse(document.getElementById('preloader-invitation'), {folder:'svg', ext:'.svg'}); } } catch(e) {}

    // –ü—É–ª—å—Å–∏—Ä—É—é—â–∏–µ —Ç–æ—á–∫–∏
    gsap.to('.dot', { y: -4, repeat: -1, yoyo: true, ease: 'sine.inOut', duration: 0.6, stagger: 0.12 });

    var pieces = gsap.utils.toArray('.heart-piece');
    var prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    // –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –ø–æ–∑–∏—Ü–∏–∏ —Ä–∞–∑–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ –∫—Ä—É–≥—É –æ—Ç —Ü–µ–Ω—Ç—Ä–∞
    pieces.forEach(function(p, i){
      var angle = (i / pieces.length) * Math.PI * 2;
      var radius = 140 + Math.random() * 60; // SVG units (~px)
      var sx = Math.cos(angle) * radius;
      var sy = Math.sin(angle) * radius;
      gsap.set(p, { x: sx, y: sy, rotation: gsap.utils.random(-220, 220), scale: 0.5, opacity: 0, transformOrigin: '50% 50%' });
    });

    var tl = gsap.timeline({ defaults: { ease: 'elastic.out(1, 0.6)' } });

    if (prefersReduced) {
      // –ë–µ–∑ –∞–Ω–∏–º–∞—Ü–∏–∏: –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏ —Å–∫—Ä—ã–≤–∞–µ–º
      gsap.set(pieces, { x: 0, y: 0, rotation: 0, scale: 1, opacity: 1 });
      setTimeout(complete, 1200);
      return;
    }

    tl.to(pieces, { x: 0, y: 0, rotation: 0, scale: 1, opacity: 1, duration: 1.2, stagger: 0.15 })
      .to('.heart-container', { scale: 1.1, duration: 0.22, ease: 'power2.inOut' })
      .to('.heart-container', { scale: 1.0, duration: 0.26, ease: 'power2.inOut' })
      .to('#preloader-invitation', { opacity: 0, duration: 0.55, ease: 'power2.inOut', onComplete: complete }, "+=0.3");

    function complete() {
      var el = document.getElementById('preloader-invitation');
      if (!el) return;
      el.parentNode && el.parentNode.removeChild(el);
      document.body.style.overflow = '';
    }
  })();
  </script>
</body>
</html>


